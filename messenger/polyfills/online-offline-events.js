"use strict";var EventTarget=require("../../npm/event-target-shim/lib/event-target.js");exports.polyfill=function(t){if(wx.onNetworkStatusChange&&!t.__onlineOfflinePolyfilled){t.__onlineOfflinePolyfilled=!0;var e=new EventTarget;t.dispatchEvent||(t.addEventListener=e.addEventListener.bind(e),t.removeEventListener=e.removeEventListener.bind(e),t.dispatchEvent=e.dispatchEvent.bind(e),"function"!=typeof postMessage||t.importScripts||(t.importScripts=function(){throw new Error("mocked")})),wx.getNetworkType({success:function(e){var n=e.networkType;t.onLine="none"!==n,wx.onNetworkStatusChange(function(e){var n=e.isConnected;t.onLine!==n&&(t.onLine=n,t.dispatchEvent({type:n?"online":"offline"}))})}})}};