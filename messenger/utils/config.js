"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r};exports.computeColorsMetadata=computeColorsMetadata,exports.filterIntegrations=filterIntegrations;var _colors=require("./colors.js"),_strings=require("./strings.js"),_app=require("./app.js");function _toConsumableArray(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);t<r.length;t++)e[t]=r[t];return e}return Array.from(r)}function computeColorsMetadata(o){return[{key:"brandColor",isDefaultDark:!0},{key:"accentColor",isDefaultDark:!0},{key:"linkColor",isDefaultDark:!0}].forEach(function(r){var t=r.key,e=r.isDefaultDark,a="is"+(0,_strings.capitalizeFirstLetter)(t)+"Dark";if(o[t])try{o[a]=(0,_colors.isDark)("#"+o[t])}catch(r){console.warn("Invalid value for "+t),o[a]=e}else o[a]=e}),o}function filterIntegrations(r){return r.reduce(function(r,t){var e=r.list,a=r.hasEmailIntegration,o=(0,_app.getIntegrationCategory)(t.type);return"email"!==(0,_app.getIntegrationCategory)(t.type)||a?{list:[].concat(_toConsumableArray(e),[_extends({},t,{category:o})]),hasEmailIntegration:a}:{list:[].concat(_toConsumableArray(e),[_extends({},t,{category:o})]),hasEmailIntegration:!0}},{list:[],hasEmailIntegration:!1}).list}